=======================================================================

       File Name: MsgWrapper.txt

       Description: Message wrapper API 説明書

       Notes: (C) Copyright 2013 Sony Corporation

       Author: Satoru AIZAWA

=======================================================================

------------------------------------------------------------------------
1. 概要
------------------------------------------------------------------------

	本資料では、MessageLib 2.0 用のラッパ関数について説明する。


------------------------------------------------------------------------
2. API仕様
------------------------------------------------------------------------

2.1 API

  メッセージラッパを使用するには、以下のヘッダファイルをインクルードする

	#include "MsgWrapper.h"

  以下のAPIの説明で、ASSERTすると記述されている箇所は、全てD_ASSERTを使用して
  いるため、NDEBUGマクロを定義するとNOPとなる。


2.1.1 MsgWrapperクラス

2.1.1.1 メッセージパケットのタイムアウトつき送信

  -----------------------------------------------------------------------
  [関数]  static err_t MsgWrapper::sendWithTimeout(
                           MsgQueId dest, MsgPri pri, MsgType type, MsgQueId reply, uint32_t ms)

          template<typename T>
          static err_t MsgWrapper::sendWithTimeout(
                           MsgQueId dest, MsgPri pri, MsgType type, MsgQueId reply, const T& param, uint32_t ms)

  -----------------------------------------------------------------------

  [引数]   MsgQueId    dest  : 送信先メッセージキューID
           MsgPri      pri   : メッセージの優先度
           MsgType     type  : メッセージ種別を識別するための値
           MsgQueId    reply : 返信先メッセージキューID
           const T&    param : メッセージのパラメタ
           uint32_t    ms    : 送信完了待ち時間(ミリ秒)または、TIME_POLLING or TIME_FOREVER

  [戻り値] ERR_OK       : 送信成功
           ERR_QUE_FULL : メッセージキューに空きがない (送信タイムアウト)

  [説明]   引数destとpriで示されるキューに、メッセージパケットを格納する。
	割込みハンドラからはタイムアウトつきの送信はできない。
	os_wrap.hで、TIME_POLLINGは0、TIME_FOREVERは-1に定義されている。

	引数paramのサイズが大きすぎてキューに格納できない場合は、ASSERTする。
	引数destとpriで示されるキューが存在しないか、あるいは初期化が完了して
	いない場合は、ASSERTする。
	他CPU所有で、自CPUとのスピンロック共有がないキューを指定した場合は、ASSERTする。

  [互換性] Message::send(), Message::psend(), PMessage::sendParam(), PMessage::psendParam(),
	MessageSendParam(), MessageTrySendParam() に類似

